<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Products – HomeStyler</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Animate on Scroll -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Navbar -->
    <nav id="mainNav" class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="index.html">
                <img src="Images/logo.png" alt="HomeStyler Logo" class="img-fluid"
                    style="max-height:95px; width:auto; margin-right:10px;">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link active" href="products.html">Products</a></li>
                    <li class="nav-item"><a class="nav-link" href="design_styles.html">Design Styles</a></li>
                    <li class="nav-item"><a class="nav-link" href="designer_gallery.html">Designer Gallery</a></li>
                    <li class="nav-item"><a class="nav-link" href="wishlist.html">Wishlist</a></li>
                    <li class="nav-item"><a class="nav-link" href="feedback.html">Feedback</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact Us</a></li>
                </ul>
                <!-- Floating Cart Icon -->
                <a href="cart.html" id="cart-icon">
                    🛒 <span id="cart-count">0</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="about small-hero text-center d-flex align-items-center justify-content-center">
        <div class="container">
            <h2>Our Products.</h2>
            <p>
                Transform your living spaces with furniture that brings elegance and character to your home. From
                sophisticated minimalism to rich traditional designs, create rooms that inspire and comfort.
            </p>
        </div>
    </section>

    <!-- Filters + Search -->
    <div class="container my-4">
        <div class="filters-container">
            <select id="categoryFilter" class="form-select">
                <option value="">All Categories</option>
                <option value="Furniture">Furniture</option>
                <option value="Lighting">Lighting</option>
                <option value="Decor">Decor</option>
                <option value="Kitchen">Kitchen</option>
                <option value="Bathroom">Bathroom</option>
            </select>

            <select id="subcategoryFilter" class="form-select">
                <option value="">All Subcategories</option>
            </select>

            <select id="priceFilter" class="form-select">
                <option value="">All Prices</option>
                <option value="0-200">$0 - $200</option>
                <option value="201-500">$201 - $500</option>
                <option value="501-1000">$501 - $1000</option>
                <option value="1001-2000">$1001 - $2000</option>
            </select>

            <select id="ratingFilter" class="form-select">
                <option value="">All Ratings</option>
                <option value="5">★★★★★</option>
                <option value="4">★★★★ & Up</option>
                <option value="3">★★★ & Up</option>
            </select>

            <input type="text" id="searchInput" class="form-control" placeholder="Search products...">
        </div>
    </div>

    <!-- Products Section -->
    <section class="products container my-5">
        <div class="row g-4" id="products-container"></div>
    </section>
    </main>

    <!-- Footer -->
    <footer class="footer text-light pt-5 pb-3">
        <div class="container">
            <div class="row">
                <!-- Logo & About -->
                <div class="col-md-4 mb-4">
                    <a href="index.html" class="d-flex align-items-center mb-3">
                        <img src="Images/logo.png" alt="HomeStyler Logo" class="me-2" style="width:120px;">
                    </a>
                    <p class="small">
                        Bringing comfort, style, and durability to your home with
                        our premium furniture collections.
                    </p>
                </div>

                <!-- Quick Links -->
                <div class="col-md-2 mb-4">
                    <h6 class="fw-bold">Quick Links</h6>
                    <ul class="list-unstyled small">
                        <li><a href="index.html" class="footer-link">Home</a></li>
                        <li><a href="products.html" class="footer-link">Products</a></li>
                        <li><a href="design_styles.html" class="footer-link">Design Styles</a></li>
                        <li><a href="designer_gallery.html" class="footer-link">Designer Gallery</a></li>
                        <li><a href="about.html" class="footer-link">About Us</a></li>
                        <li><a href="contact.html" class="footer-link">Contact Us</a></li>
                    </ul>
                </div>

                <!-- Services -->
                <div class="col-md-3 mb-4">
                    <h6 class="fw-bold">Our Services</h6>
                    <ul class="list-unstyled small">
                        <li><a href="#" class="footer-link">Custom Furniture</a></li>
                        <li><a href="#" class="footer-link">Interior Consultation</a></li>
                        <li><a href="#" class="footer-link">Fast Delivery</a></li>
                        <li><a href="#" class="footer-link">Furniture Repair</a></li>
                    </ul>
                </div>

                <!-- Contact -->
                <div class="col-md-3 mb-4">
                    <h6 class="fw-bold">Contact Us</h6>
                    <p class="small mb-1"><i class="bi bi-geo-alt-fill me-2"></i>123 Main Street, Karachi, Pakistan</p>
                    <p class="small mb-1"><i class="bi bi-telephone-fill me-2"></i>+92 300 1234567</p>
                    <p class="small mb-3"><i class="bi bi-envelope-fill me-2"></i>info@homestyler.com</p>
                    <div>
                        <a href="https://web.facebook.com/" class="social-link"><i class="bi bi-facebook"></i></a>
                        <a href="https://www.instagram.com/" class="social-link"><i class="bi bi-instagram"></i></a>
                        <a href="https://x.com/" class="social-link"><i class="bi bi-twitter-x"></i></a>
                        <a href="https://www.youtube.com/" class="social-link"><i class="bi bi-youtube"></i></a>
                    </div>
                </div>
            </div>
            <hr class="bg-light">
            <div class="text-center small">
                © 2025 HomeStyler Furniture | All Rights Reserved
            </div>
        </div>
    </footer>

    <!-- Modal -->
    <div class="modal fade" id="imageModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content bg-transparent border-0">
                <img id="modalImage" src="" class="img-fluid rounded" alt="">
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Animate on Scroll -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
    <script>
        const products = [
            {
                "id": 1,
                "name": "Modern Sofa",
                "image": "Images/ModernSofa.jpg",
                "price": 600,
                "desc": "Comfortable modern sofa perfect for living rooms.",
                "category": "Furniture",
                "subcategory": "Sofas and Couches",
                "rating": 5
            },
            {
                "id": 2,
                "name": "Recliner Chair",
                "image": "Images/ReclinerChair.jpg",
                "price": 350,
                "desc": "Comfortable recliner with premium leather.",
                "category": "Furniture",
                "subcategory": "Chairs and Recliners",
                "rating": 4
            },
            {
                "id": 3,
                "name": "Dining Table",
                "image": "Images/DiningTable.jpeg",
                "price": 450,
                "desc": "Sturdy wooden dining table for family meals.",
                "category": "Furniture",
                "subcategory": "Tables",
                "rating": 4
            },
            {
                "id": 4,
                "name": "Luxury Chandelier",
                "image": "Images/LuxuryChandelier.png",
                "price": 400,
                "desc": "Elegant chandelier for dining rooms.",
                "category": "Lighting",
                "subcategory": "Ceiling Lights",
                "rating": 5
            },
            {
                "id": 5,
                "name": "Wall Sconce",
                "image": "Images/WallSconce.jpg",
                "price": 150,
                "desc": "Stylish wall light for bedrooms and hallways.",
                "category": "Lighting",
                "subcategory": "Wall Lights",
                "rating": 3
            },
            {
                "id": 6,
                "name": "Table Lamp",
                "image": "Images/TableLamp.jpg",
                "price": 80,
                "desc": "Modern table lamp for bedside tables or offices.",
                "category": "Lighting",
                "subcategory": "Table Lamps",
                "rating": 4
            },
            {
                "id": 7,
                "name": "Persian Rug",
                "image": "Images/PersianRug.jpg",
                "price": 300,
                "desc": "Elegant Persian rug for living areas.",
                "category": "Decor",
                "subcategory": "Rugs and Carpets",
                "rating": 4
            },
            {
                "id": 8,
                "name": "Wall Mirror",
                "image": "Images/WallMirror.jpg",
                "price": 250,
                "desc": "Stylish wall mirror to enhance home decor.",
                "category": "Decor",
                "subcategory": "Wall Art and Mirrors",
                "rating": 5
            },
            {
                "id": 9,
                "name": "Decorative Vase",
                "image": "Images/DecorativeVase.jpg",
                "price": 90,
                "desc": "Elegant vase to enhance your living room.",
                "category": "Decor",
                "subcategory": "Vases and Plant Pots",
                "rating": 4
            },
            {
                "id": 10,
                "name": "Modern Cabinet",
                "image": "Images/ModernCabinet.jpg",
                "price": 800,
                "desc": "Stylish kitchen cabinet with ample storage.",
                "category": "Kitchen",
                "subcategory": "Cabinets and Pantries",
                "rating": 4
            },
            {
                "id": 11,
                "name": "Granite Countertop",
                "image": "Images/GraniteCountertop.webp",
                "price": 1200,
                "desc": "High-quality granite countertop for modern kitchens.",
                "category": "Kitchen",
                "subcategory": "Countertops",
                "rating": 5
            },
            {
                "id": 12,
                "name": "Stainless Sink",
                "image": "Images/StainlessSink.avif",
                "price": 350,
                "desc": "Durable stainless steel sink for kitchens.",
                "category": "Kitchen",
                "subcategory": "Sinks and Faucets",
                "rating": 4
            },
            {
                "id": 13,
                "name": "Bathroom Vanity",
                "image": "Images/BathroomVanity.jpg",
                "price": 600,
                "desc": "Stylish vanity for modern bathrooms.",
                "category": "Bathroom",
                "subcategory": "Vanities and Cabinets",
                "rating": 4
            },
            {
                "id": 14,
                "name": "Glass Shower",
                "image": "Images/GlassShower.jpg",
                "price": 900,
                "desc": "Modern shower with sleek glass panels.",
                "category": "Bathroom",
                "subcategory": "Showers and Bathtubs",
                "rating": 5
            },
            {
                "id": 15,
                "name": "Toilet Seat",
                "image": "Images/ToiletSeat.jpg",
                "price": 280,
                "desc": "Comfortable toilet seat for bathroom use.",
                "category": "Bathroom",
                "subcategory": "Toilets and Bidets",
                "rating": 3
            }
        ]

        // Subcategories mapping
        const subcategories = {
            Furniture: ["Sofas and Couches", "Chairs and Recliners", "Tables"],
            Lighting: ["Ceiling Lights", "Wall Lights", "Table Lamps"],
            Decor: ["Rugs and Carpets", "Wall Art and Mirrors", "Vases and Plant Pots"],
            Kitchen: ["Cabinets and Pantries", "Countertops", "Sinks and Faucets"],
            Bathroom: ["Vanities and Cabinets", "Showers and Bathtubs", "Toilets and Bidets"]
        };

        function updateSubcategories(category) {
            const subFilter = document.getElementById("subcategoryFilter");
            subFilter.innerHTML = `<option value="">All Subcategories</option>`;

            if (category && subcategories[category]) {
                subcategories[category].forEach(sub => {
                    const opt = document.createElement("option");
                    opt.value = sub;
                    opt.textContent = sub;
                    subFilter.appendChild(opt);
                });
            }
        }


        function getStars(rating) {
            return "★".repeat(rating) + "☆".repeat(5 - rating);
        }

        function renderProducts(list) {
            const container = document.getElementById("products-container");
            container.innerHTML = "";

            if (list.length === 0) {
                container.innerHTML = `<p class="text-center">No products found.</p>`;
                return;
            }

            list.forEach(p => {
                const col = document.createElement("div");
                col.className = "col-md-4";

                col.innerHTML = `
      <div class="card product-card h-100 shadow-sm">
        <img src="${p.image}" class="card-img-top" alt="${p.name}">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">${p.name}</h5>
          <p class="card-text flex-grow-1">${p.desc}</p>
          <p class="fw-bold text-black">$${p.price}</p>
          <p class="rating">${getStars(p.rating)}</p>
          <button class="btn btn-wishlist w-100 mt-auto add-to-wishlist"
            data-id="${p.id}"
            data-name="${p.name}"
            data-image="${p.image}"
            data-price="${p.price}">
            Add to Wishlist
          </button>
          <button class="btn btn-dark w-100 mt-2 add-to-cart"
            data-id="${p.id}"
            data-name="${p.name}"
            data-image="${p.image}"
            data-price="${p.price}">
            Add to Cart
        </button>

        </div>
      </div>
    `;
                container.appendChild(col);
            });

            // Cart function
            container.querySelectorAll(".add-to-cart").forEach(btn => {
                btn.addEventListener("click", () => {
                    const product = {
                        id: btn.dataset.id,
                        name: btn.dataset.name,
                        image: btn.dataset.image,
                        price: parseFloat(btn.dataset.price),
                        quantity: 1
                    };

                    let cart = JSON.parse(localStorage.getItem("cart")) || [];

                    // Check if product exists in cart
                    const existing = cart.find(item => item.id === product.id);
                    if (existing) {
                        existing.quantity += 1; // increment quantity
                    } else {
                        cart.push(product);
                    }

                    localStorage.setItem("cart", JSON.stringify(cart));

                    btn.textContent = "✔ Added to Cart";
                    setTimeout(() => (btn.textContent = "🛒 Add to Cart"), 2000);
                });
            });


            // ✅ Attach event listeners for wishlist
            container.querySelectorAll(".add-to-wishlist").forEach(btn => {
                btn.addEventListener("click", () => {
                    const product = {
                        id: btn.dataset.id,
                        name: btn.dataset.name,
                        image: btn.dataset.image,
                        price: btn.dataset.price
                    };

                    let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];

                    // Prevent duplicates
                    if (!wishlist.some(item => item.id === product.id)) {
                        wishlist.push(product);
                        localStorage.setItem("wishlist", JSON.stringify(wishlist));

                        btn.textContent = "✔ Added to Wishlist";
                        btn.disabled = true;
                    } else {
                        btn.textContent = "❤️ Already in Wishlist";
                        btn.disabled = true;
                    }
                });
            });
        }


        function applyFilters() {
            let filtered = [...products];

            const category = document.getElementById("categoryFilter").value;
            const subcategory = document.getElementById("subcategoryFilter").value;
            const priceRange = document.getElementById("priceFilter").value;
            const rating = document.getElementById("ratingFilter").value;
            const search = document.getElementById("searchInput").value.toLowerCase();

            if (category) filtered = filtered.filter(p => p.category === category);
            if (subcategory) filtered = filtered.filter(p => p.subcategory === subcategory);

            if (priceRange) {
                const [min, max] = priceRange.split("-").map(Number);

                if (max) {
                    // ✅ Show all products less than or equal to max
                    filtered = filtered.filter(p => p.price <= max);
                } else {
                    // ✅ For open-ended ranges (1001-2000), show >= min
                    filtered = filtered.filter(p => p.price >= min);
                }
            }

            if (rating) filtered = filtered.filter(p => p.rating >= Number(rating));

            if (search) {
                filtered = filtered.filter(p =>
                    p.name.toLowerCase().includes(search) ||
                    p.desc.toLowerCase().includes(search)
                );
            }

            renderProducts(filtered);
        }


        document.addEventListener("DOMContentLoaded", () => {
            renderProducts(products);

            // Filters
            document.getElementById("categoryFilter").addEventListener("change", e => {
                updateSubcategories(e.target.value);
                applyFilters();
            });
            document.getElementById("subcategoryFilter").addEventListener("change", applyFilters);
            document.getElementById("priceFilter").addEventListener("change", applyFilters);
            document.getElementById("ratingFilter").addEventListener("change", applyFilters);
            document.getElementById("searchInput").addEventListener("input", applyFilters);

            // ✅ Load all subcategories at start
            updateSubcategories("");
        });


    </script>
</body>

</html>